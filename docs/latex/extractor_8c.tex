\doxysection{src/extractor.c File Reference}
\hypertarget{extractor_8c}{}\label{extractor_8c}\index{src/extractor.c@{src/extractor.c}}
{\ttfamily \#include "{}extractor.\+h"{}}\newline
{\ttfamily \#include "{}data\+\_\+reader.\+h"{}}\newline
{\ttfamily \#include "{}errors.\+h"{}}\newline
{\ttfamily \#include "{}options.\+h"{}}\newline
{\ttfamily \#include "{}output.\+h"{}}\newline
{\ttfamily \#include "{}utils.\+h"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int8\+\_\+t \mbox{\hyperlink{extractor_8c_af2da2decbda4c7a7bf6e857b43767772}{extract\+\_\+file\+\_\+using\+\_\+dir\+\_\+record}} (FILE \texorpdfstring{$\ast$}{*}fptr, struct \mbox{\hyperlink{structdirectory__record}{directory\+\_\+record}} \texorpdfstring{$\ast$}{*}dr, const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em \doxylink{extractor_8h}{extractor.\+h} -\/ container for all file extraction functions. \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{extractor_8c_a4727cdfccac62ddc325d2ed70eddf467}{extract\+\_\+directory}} (FILE \texorpdfstring{$\ast$}{*}fptr, const uint16\+\_\+t block\+\_\+size, const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Creates a directory and then extracts every file in said directory. \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{extractor_8c_ad53840f52d541af8bc89a7e6c86e29eb}{create\+\_\+directories\+\_\+and\+\_\+extract\+\_\+data\+\_\+from\+\_\+path\+\_\+file}} (FILE \texorpdfstring{$\ast$}{*}fptr, uint16\+\_\+t block\+\_\+size, \mbox{\hyperlink{structpath__table}{path\+\_\+table}} \texorpdfstring{$\ast$}{*}pt)
\begin{DoxyCompactList}\small\item\em Creates directories for every directory in a given path table and then extracts all of its files. \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{extractor_8c_a8a69ed144c7791001eb2d6055e297bfd}{extract\+\_\+file\+\_\+using\+\_\+idx\+\_\+entry}} (FILE \texorpdfstring{$\ast$}{*}fptr, \mbox{\hyperlink{structindex__entry}{index\+\_\+entry}} \texorpdfstring{$\ast$}{*}idx, const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Extracts a file using its corresponding {\ttfamily \doxylink{structindex__entry}{index\+\_\+entry}} and data pointed to by {\ttfamily fptr}, outputting it to the location denoated by {\ttfamily path}. \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{extractor_8c_a5bdeb2d2539ae12cbe315e3a606a98c2}{extract\+\_\+index\+\_\+file}} (\mbox{\hyperlink{structindex__file}{index\+\_\+file}} \texorpdfstring{$\ast$}{*}idx, const char \texorpdfstring{$\ast$}{*}idx\+\_\+path, const char \texorpdfstring{$\ast$}{*}dat\+\_\+path)
\begin{DoxyCompactList}\small\item\em Extracts all of the files described in the given {\ttfamily \doxylink{structindex__file}{index\+\_\+file}}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{extractor_8c_ad53840f52d541af8bc89a7e6c86e29eb}\index{extractor.c@{extractor.c}!create\_directories\_and\_extract\_data\_from\_path\_file@{create\_directories\_and\_extract\_data\_from\_path\_file}}
\index{create\_directories\_and\_extract\_data\_from\_path\_file@{create\_directories\_and\_extract\_data\_from\_path\_file}!extractor.c@{extractor.c}}
\doxysubsubsection{\texorpdfstring{create\_directories\_and\_extract\_data\_from\_path\_file()}{create\_directories\_and\_extract\_data\_from\_path\_file()}}
{\footnotesize\ttfamily \label{extractor_8c_ad53840f52d541af8bc89a7e6c86e29eb} 
int8\+\_\+t create\+\_\+directories\+\_\+and\+\_\+extract\+\_\+data\+\_\+from\+\_\+path\+\_\+file (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}}]{fptr}{, }\item[{uint16\+\_\+t}]{block\+\_\+size}{, }\item[{struct \mbox{\hyperlink{structpath__table}{path\+\_\+table}} \texorpdfstring{$\ast$}{*}}]{pt}{}\end{DoxyParamCaption})}



Creates directories for every directory in a given path table and then extracts all of its files. 

A wrapper for {\ttfamily extract\+\_\+directory} and, therefore also, {\ttfamily extract\+\_\+file\+\_\+using\+\_\+dir\+\_\+record} which handles the extraction of every file and subdirectory using a given path table.


\begin{DoxyParams}{Parameters}
{\em block\+\_\+size} & logical block size (in big endian form). \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\doxylink{extractor_8h_a4727cdfccac62ddc325d2ed70eddf467}{extract\+\_\+directory()} 

\doxylink{extractor_8h_af2da2decbda4c7a7bf6e857b43767772}{extract\+\_\+file\+\_\+using\+\_\+dir\+\_\+record()} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{extractor_8c_source_l00128}{128}} of file \mbox{\hyperlink{extractor_8c_source}{extractor.\+c}}.

\Hypertarget{extractor_8c_a4727cdfccac62ddc325d2ed70eddf467}\index{extractor.c@{extractor.c}!extract\_directory@{extract\_directory}}
\index{extract\_directory@{extract\_directory}!extractor.c@{extractor.c}}
\doxysubsubsection{\texorpdfstring{extract\_directory()}{extract\_directory()}}
{\footnotesize\ttfamily \label{extractor_8c_a4727cdfccac62ddc325d2ed70eddf467} 
int8\+\_\+t extract\+\_\+directory (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}}]{fptr}{, }\item[{const uint16\+\_\+t}]{block\+\_\+size}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{}\end{DoxyParamCaption})}



Creates a directory and then extracts every file in said directory. 



Definition at line \mbox{\hyperlink{extractor_8c_source_l00090}{90}} of file \mbox{\hyperlink{extractor_8c_source}{extractor.\+c}}.

\Hypertarget{extractor_8c_af2da2decbda4c7a7bf6e857b43767772}\index{extractor.c@{extractor.c}!extract\_file\_using\_dir\_record@{extract\_file\_using\_dir\_record}}
\index{extract\_file\_using\_dir\_record@{extract\_file\_using\_dir\_record}!extractor.c@{extractor.c}}
\doxysubsubsection{\texorpdfstring{extract\_file\_using\_dir\_record()}{extract\_file\_using\_dir\_record()}}
{\footnotesize\ttfamily \label{extractor_8c_af2da2decbda4c7a7bf6e857b43767772} 
int8\+\_\+t extract\+\_\+file\+\_\+using\+\_\+dir\+\_\+record (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}}]{fptr}{, }\item[{struct \mbox{\hyperlink{structdirectory__record}{directory\+\_\+record}} \texorpdfstring{$\ast$}{*}}]{dr}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{}\end{DoxyParamCaption})}



\doxylink{extractor_8h}{extractor.\+h} -\/ container for all file extraction functions. 

All functions return zero on success, non-\/zero on failure. Extracts a file using its respective {\ttfamily \doxylink{structdirectory__record}{directory\+\_\+record}} and data pointed to by {\ttfamily fptr}, outputting it to the location denoted by {\ttfamily path}. the {\ttfamily file\+\_\+identifier} terminates with a {\ttfamily ;} character followed by the file ID number in ASCII coded decimal ({\ttfamily 1}). See\+: \href{https://wiki.osdev.org/ISO_9660\#Directories}{\texttt{ https\+://wiki.\+osdev.\+org/\+ISO\+\_\+9660\#\+Directories}}

Just use the default/existing filename. It\textquotesingle{}ll be incorrect, but probably not worth stoping execution over. Users could just manually remove the {\ttfamily ;1} part; the data itself should be fine.

Definition at line \mbox{\hyperlink{extractor_8c_source_l00026}{26}} of file \mbox{\hyperlink{extractor_8c_source}{extractor.\+c}}.

\Hypertarget{extractor_8c_a8a69ed144c7791001eb2d6055e297bfd}\index{extractor.c@{extractor.c}!extract\_file\_using\_idx\_entry@{extract\_file\_using\_idx\_entry}}
\index{extract\_file\_using\_idx\_entry@{extract\_file\_using\_idx\_entry}!extractor.c@{extractor.c}}
\doxysubsubsection{\texorpdfstring{extract\_file\_using\_idx\_entry()}{extract\_file\_using\_idx\_entry()}}
{\footnotesize\ttfamily \label{extractor_8c_a8a69ed144c7791001eb2d6055e297bfd} 
int8\+\_\+t extract\+\_\+file\+\_\+using\+\_\+idx\+\_\+entry (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}}]{fptr}{, }\item[{\mbox{\hyperlink{structindex__entry}{index\+\_\+entry}} \texorpdfstring{$\ast$}{*}}]{idx}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{}\end{DoxyParamCaption})}



Extracts a file using its corresponding {\ttfamily \doxylink{structindex__entry}{index\+\_\+entry}} and data pointed to by {\ttfamily fptr}, outputting it to the location denoated by {\ttfamily path}. 



Definition at line \mbox{\hyperlink{extractor_8c_source_l00184}{184}} of file \mbox{\hyperlink{extractor_8c_source}{extractor.\+c}}.

\Hypertarget{extractor_8c_a5bdeb2d2539ae12cbe315e3a606a98c2}\index{extractor.c@{extractor.c}!extract\_index\_file@{extract\_index\_file}}
\index{extract\_index\_file@{extract\_index\_file}!extractor.c@{extractor.c}}
\doxysubsubsection{\texorpdfstring{extract\_index\_file()}{extract\_index\_file()}}
{\footnotesize\ttfamily \label{extractor_8c_a5bdeb2d2539ae12cbe315e3a606a98c2} 
int8\+\_\+t extract\+\_\+index\+\_\+file (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structindex__file}{index\+\_\+file}} \texorpdfstring{$\ast$}{*}}]{idx}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{idx\+\_\+path}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{dat\+\_\+path}{}\end{DoxyParamCaption})}



Extracts all of the files described in the given {\ttfamily \doxylink{structindex__file}{index\+\_\+file}}. 

{\ttfamily idx\+\_\+path} is needed to build an output path.


\begin{DoxyParams}{Parameters}
{\em \`{}idx\+\_\+path\`{}} & relative path to the given {\ttfamily \doxylink{structindex__file}{index\+\_\+file}}. \\
\hline
{\em \`{}dat\+\_\+path\`{}} & relative path to the corresponding dat file. \\
\hline
\end{DoxyParams}
Gives you the {\ttfamily OP\+\_\+\+OUTPUT\+\_\+\+DIR/\+DISK\#/} part of the path. 10 = len("{}\+INDEX.\+001"{})

Definition at line \mbox{\hyperlink{extractor_8c_source_l00225}{225}} of file \mbox{\hyperlink{extractor_8c_source}{extractor.\+c}}.

