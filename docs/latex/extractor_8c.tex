\doxysection{src/extractor.c File Reference}
\hypertarget{extractor_8c}{}\label{extractor_8c}\index{src/extractor.c@{src/extractor.c}}
{\ttfamily \#include "{}extractor.\+h"{}}\newline
{\ttfamily \#include "{}data\+\_\+reader.\+h"{}}\newline
{\ttfamily \#include "{}errors.\+h"{}}\newline
{\ttfamily \#include "{}options.\+h"{}}\newline
{\ttfamily \#include "{}output.\+h"{}}\newline
{\ttfamily \#include "{}utils.\+h"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int8\+\_\+t \mbox{\hyperlink{extractor_8c_a6c570aa556812918f6d97359199ef25a}{extract\+\_\+file}} (FILE \texorpdfstring{$\ast$}{*}fptr, \mbox{\hyperlink{structdirectory__record}{directory\+\_\+record}} \texorpdfstring{$\ast$}{*}dr, const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Extracts a file pointed to by {\ttfamily fptr} using its respective {\ttfamily \doxylink{structdirectory__record}{directory\+\_\+record}}, outputting it to the location pointed to by {\ttfamily path}. \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{extractor_8c_a83bd0d1558bff60ba2a613868c6a138f}{extract\+\_\+directory}} (FILE \texorpdfstring{$\ast$}{*}fptr, const uint16\+\_\+t BLOCK\+\_\+\+SIZE, const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Creates a directory and then extracts every file in said directory. \end{DoxyCompactList}\item 
int8\+\_\+t \mbox{\hyperlink{extractor_8c_a23d43cef2b603ff0e5c51b5f90383171}{create\+\_\+directories\+\_\+and\+\_\+extract\+\_\+data\+\_\+from\+\_\+path\+\_\+file}} (FILE \texorpdfstring{$\ast$}{*}fptr, uint16\+\_\+t BLOCK\+\_\+\+SIZE, \mbox{\hyperlink{structpath__table}{path\+\_\+table}} \texorpdfstring{$\ast$}{*}pt)
\begin{DoxyCompactList}\small\item\em A wrapper for {\ttfamily extract\+\_\+directory} and, therefore also, {\ttfamily extract\+\_\+file} which handles the extraction of every file and subdirectory using a given path table. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{extractor_8c_a23d43cef2b603ff0e5c51b5f90383171}\index{extractor.c@{extractor.c}!create\_directories\_and\_extract\_data\_from\_path\_file@{create\_directories\_and\_extract\_data\_from\_path\_file}}
\index{create\_directories\_and\_extract\_data\_from\_path\_file@{create\_directories\_and\_extract\_data\_from\_path\_file}!extractor.c@{extractor.c}}
\doxysubsubsection{\texorpdfstring{create\_directories\_and\_extract\_data\_from\_path\_file()}{create\_directories\_and\_extract\_data\_from\_path\_file()}}
{\footnotesize\ttfamily \label{extractor_8c_a23d43cef2b603ff0e5c51b5f90383171} 
int8\+\_\+t create\+\_\+directories\+\_\+and\+\_\+extract\+\_\+data\+\_\+from\+\_\+path\+\_\+file (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}}]{fptr}{, }\item[{uint16\+\_\+t}]{BLOCK\+\_\+\+SIZE}{, }\item[{struct \mbox{\hyperlink{structpath__table}{path\+\_\+table}} \texorpdfstring{$\ast$}{*}}]{pt}{}\end{DoxyParamCaption})}



A wrapper for {\ttfamily extract\+\_\+directory} and, therefore also, {\ttfamily extract\+\_\+file} which handles the extraction of every file and subdirectory using a given path table. 

Creates directories for every directory in a given path table and then extracts all of its files.


\begin{DoxyParams}{Parameters}
{\em fptr} & pointer to the data \\
\hline
{\em BLOCK\+\_\+\+SIZE} & logical block size in big endian form, needed for fseek \\
\hline
{\em path} & a string of the path to output to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
zero on success, non-\/zero on failure. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\doxylink{extractor_8h_a83bd0d1558bff60ba2a613868c6a138f}{extract\+\_\+directory()} 

\doxylink{extractor_8h_a553117edee61f114d5f6fd9d28d57313}{extract\+\_\+file()} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{extractor_8c_source_l00114}{114}} of file \mbox{\hyperlink{extractor_8c_source}{extractor.\+c}}.

\Hypertarget{extractor_8c_a83bd0d1558bff60ba2a613868c6a138f}\index{extractor.c@{extractor.c}!extract\_directory@{extract\_directory}}
\index{extract\_directory@{extract\_directory}!extractor.c@{extractor.c}}
\doxysubsubsection{\texorpdfstring{extract\_directory()}{extract\_directory()}}
{\footnotesize\ttfamily \label{extractor_8c_a83bd0d1558bff60ba2a613868c6a138f} 
int8\+\_\+t extract\+\_\+directory (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}}]{fptr}{, }\item[{const uint16\+\_\+t}]{BLOCK\+\_\+\+SIZE}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{}\end{DoxyParamCaption})}



Creates a directory and then extracts every file in said directory. 


\begin{DoxyParams}{Parameters}
{\em fptr} & pointer to the data of the directory. \\
\hline
{\em BLOCK\+\_\+\+SIZE} & logical block size in big endian form, needed for fseek \\
\hline
{\em path} & a string of the path to output to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
zero on success, non-\/zero on failure. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{extractor_8c_source_l00076}{76}} of file \mbox{\hyperlink{extractor_8c_source}{extractor.\+c}}.

\Hypertarget{extractor_8c_a6c570aa556812918f6d97359199ef25a}\index{extractor.c@{extractor.c}!extract\_file@{extract\_file}}
\index{extract\_file@{extract\_file}!extractor.c@{extractor.c}}
\doxysubsubsection{\texorpdfstring{extract\_file()}{extract\_file()}}
{\footnotesize\ttfamily \label{extractor_8c_a6c570aa556812918f6d97359199ef25a} 
int8\+\_\+t extract\+\_\+file (\begin{DoxyParamCaption}\item[{FILE \texorpdfstring{$\ast$}{*}}]{fptr}{, }\item[{struct \mbox{\hyperlink{structdirectory__record}{directory\+\_\+record}} \texorpdfstring{$\ast$}{*}}]{dr}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{path}{}\end{DoxyParamCaption})}



Extracts a file pointed to by {\ttfamily fptr} using its respective {\ttfamily \doxylink{structdirectory__record}{directory\+\_\+record}}, outputting it to the location pointed to by {\ttfamily path}. 


\begin{DoxyParams}{Parameters}
{\em fptr} & pointer to data of the file. \\
\hline
{\em dr} & the directory record corresponding to that file. \\
\hline
{\em path} & a string of the file\textquotesingle{}s output path. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
zero on success, non-\/zero on failure. 
\end{DoxyReturn}
the {\ttfamily file\+\_\+identifier} terminates with a {\ttfamily ;} character followed by the file ID number in ASCII coded decimal ({\ttfamily 1}). See\+: \href{https://wiki.osdev.org/ISO_9660\#Directories}{\texttt{ https\+://wiki.\+osdev.\+org/\+ISO\+\_\+9660\#\+Directories}}

Just use the default/existing filename. It\textquotesingle{}ll be incorrect, but probably not worth stoping execution over. Users could just manually remove the {\ttfamily ;1} part; the data itself should be fine.

Definition at line \mbox{\hyperlink{extractor_8c_source_l00013}{13}} of file \mbox{\hyperlink{extractor_8c_source}{extractor.\+c}}.

