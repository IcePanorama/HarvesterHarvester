<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HarvesterHarvester: src/index_file.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HarvesterHarvester<span id="projectnumber">&#160;00.00.00</span>
   </div>
   <div id="projectbrief">A tool for harvesting data out of Harvester&#39;s (DigiFX Interactive, 1996) DAT files.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index__file_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">index_file.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div>
<p><a href="index__file_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structindex__entry.html">index_entry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A file entry in an <code><a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a></code>.  <a href="structindex__entry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structindex__file.html">index_file</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains all the indicies within an <code>INDEX.00#</code> file.  <a href="structindex__file.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f72d7c1f8f994a1873de2f0405f66bf" id="r_a1f72d7c1f8f994a1873de2f0405f66bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f72d7c1f8f994a1873de2f0405f66bf">FULL_PATH_MAX_LEN</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a1f72d7c1f8f994a1873de2f0405f66bf"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="index__file_8h.html">index_file.h</a> - <a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a> datatype and its associated functions.  <br /></td></tr>
<tr class="separator:a1f72d7c1f8f994a1873de2f0405f66bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733cac5291dfeb37c70016d83efed505" id="r_a733cac5291dfeb37c70016d83efed505"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a733cac5291dfeb37c70016d83efed505">FILENAME_MAX_LEN</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a733cac5291dfeb37c70016d83efed505"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d0c5734d83636faa168e5869954b500" id="r_a8d0c5734d83636faa168e5869954b500"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d0c5734d83636faa168e5869954b500">create_index_file</a> (<a class="el" href="structindex__file.html">index_file</a> *i)</td></tr>
<tr class="memdesc:a8d0c5734d83636faa168e5869954b500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an <code><a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a></code>.  <br /></td></tr>
<tr class="separator:a8d0c5734d83636faa168e5869954b500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642840a928d9784ac4cf34228672fbbc" id="r_a642840a928d9784ac4cf34228672fbbc"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a642840a928d9784ac4cf34228672fbbc">destroy_index_file</a> (<a class="el" href="structindex__file.html">index_file</a> *i)</td></tr>
<tr class="memdesc:a642840a928d9784ac4cf34228672fbbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a given <code><a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a></code>.  <br /></td></tr>
<tr class="separator:a642840a928d9784ac4cf34228672fbbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9a7c6f483fa764254a2013aa7258b1" id="r_a8d9a7c6f483fa764254a2013aa7258b1"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d9a7c6f483fa764254a2013aa7258b1">process_index_file</a> (FILE *fptr, <a class="el" href="structindex__file.html">index_file</a> *idxf)</td></tr>
<tr class="memdesc:a8d9a7c6f483fa764254a2013aa7258b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from a given file, creating <code><a class="el" href="structindex__entry.html" title="A file entry in an index_file.">index_entry</a></code>s for every entry in said file.  <br /></td></tr>
<tr class="separator:a8d9a7c6f483fa764254a2013aa7258b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803c3e3f6d663ff2050f3c2e60e13431" id="r_a803c3e3f6d663ff2050f3c2e60e13431"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a803c3e3f6d663ff2050f3c2e60e13431">print_index_entry</a> (<a class="el" href="structindex__entry.html">index_entry</a> *idxe)</td></tr>
<tr class="memdesc:a803c3e3f6d663ff2050f3c2e60e13431"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints all the attributes of a given <code><a class="el" href="structindex__entry.html" title="A file entry in an index_file.">index_entry</a></code> in a human-readable form.  <br /></td></tr>
<tr class="separator:a803c3e3f6d663ff2050f3c2e60e13431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a746462bc35bd98ad993e5da86bd6b2a7" id="r_a746462bc35bd98ad993e5da86bd6b2a7"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a746462bc35bd98ad993e5da86bd6b2a7">add_entry_to_index_file</a> (<a class="el" href="structindex__file.html">index_file</a> *file, <a class="el" href="structindex__entry.html">index_entry</a> *entry)</td></tr>
<tr class="memdesc:a746462bc35bd98ad993e5da86bd6b2a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a given <code><a class="el" href="structindex__entry.html" title="A file entry in an index_file.">index_entry</a></code> to a <code><a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a></code>.  <br /></td></tr>
<tr class="separator:a746462bc35bd98ad993e5da86bd6b2a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a733cac5291dfeb37c70016d83efed505" name="a733cac5291dfeb37c70016d83efed505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a733cac5291dfeb37c70016d83efed505">&#9670;&#160;</a></span>FILENAME_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILENAME_MAX_LEN&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="index__file_8h_source.html#l00040">40</a> of file <a class="el" href="index__file_8h_source.html">index_file.h</a>.</p>

</div>
</div>
<a id="a1f72d7c1f8f994a1873de2f0405f66bf" name="a1f72d7c1f8f994a1873de2f0405f66bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f72d7c1f8f994a1873de2f0405f66bf">&#9670;&#160;</a></span>FULL_PATH_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FULL_PATH_MAX_LEN&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="index__file_8h.html">index_file.h</a> - <a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a> datatype and its associated functions. </p>
<p>Used for processing Harvester's <code>INDEX.00#</code> files. </p>
<p>Both the <a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a> datatype and the functions contained herein are based on my own observations from studying the <code>INDEX.00#</code> files and their associated <code>.DAT</code> files in a hexeditor. </p>
<p>Through these observations alone, I believe we have enough data to successfully extract files, however, it's worth noting that there is a fair bit of data that we're ignoring here. </p>
<p>Between the <code>filename</code> and <code>start</code>, there's occasionally some data, but I can't for the life of me seem to figure out what it's used for. It could be random garbage generated by whatever program created these <code>.DAT</code>/<code>INDEX.00#</code> files, or they could be file flags, or perhaps even some sort of primative checksum; I'm not sure. </p>
<p>If you have any idea what this data might be used for, feel free to make whatever changes are needed! Both of these are probably too large, but better to be safe than sorry. </p>

<p class="definition">Definition at line <a class="el" href="index__file_8h_source.html#l00039">39</a> of file <a class="el" href="index__file_8h_source.html">index_file.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a746462bc35bd98ad993e5da86bd6b2a7" name="a746462bc35bd98ad993e5da86bd6b2a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a746462bc35bd98ad993e5da86bd6b2a7">&#9670;&#160;</a></span>add_entry_to_index_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t add_entry_to_index_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structindex__file.html">index_file</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structindex__entry.html">index_entry</a> *</td>          <td class="paramname"><span class="paramname"><em>entry</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a given <code><a class="el" href="structindex__entry.html" title="A file entry in an index_file.">index_entry</a></code> to a <code><a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a></code>. </p>

<p class="definition">Definition at line <a class="el" href="index__file_8c_source.html#l00138">138</a> of file <a class="el" href="index__file_8c_source.html">index_file.c</a>.</p>

</div>
</div>
<a id="a8d0c5734d83636faa168e5869954b500" name="a8d0c5734d83636faa168e5869954b500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0c5734d83636faa168e5869954b500">&#9670;&#160;</a></span>create_index_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t create_index_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structindex__file.html">index_file</a> *</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an <code><a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a></code>. </p>

<p class="definition">Definition at line <a class="el" href="index__file_8c_source.html#l00033">33</a> of file <a class="el" href="index__file_8c_source.html">index_file.c</a>.</p>

</div>
</div>
<a id="a642840a928d9784ac4cf34228672fbbc" name="a642840a928d9784ac4cf34228672fbbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642840a928d9784ac4cf34228672fbbc">&#9670;&#160;</a></span>destroy_index_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t destroy_index_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structindex__file.html">index_file</a> *</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a given <code><a class="el" href="structindex__file.html" title="Contains all the indicies within an INDEX.00# file.">index_file</a></code>. </p>

<p class="definition">Definition at line <a class="el" href="index__file_8c_source.html#l00050">50</a> of file <a class="el" href="index__file_8c_source.html">index_file.c</a>.</p>

</div>
</div>
<a id="a803c3e3f6d663ff2050f3c2e60e13431" name="a803c3e3f6d663ff2050f3c2e60e13431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a803c3e3f6d663ff2050f3c2e60e13431">&#9670;&#160;</a></span>print_index_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_index_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structindex__entry.html">index_entry</a> *</td>          <td class="paramname"><span class="paramname"><em>idxe</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints all the attributes of a given <code><a class="el" href="structindex__entry.html" title="A file entry in an index_file.">index_entry</a></code> in a human-readable form. </p>

<p class="definition">Definition at line <a class="el" href="index__file_8c_source.html#l00128">128</a> of file <a class="el" href="index__file_8c_source.html">index_file.c</a>.</p>

</div>
</div>
<a id="a8d9a7c6f483fa764254a2013aa7258b1" name="a8d9a7c6f483fa764254a2013aa7258b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d9a7c6f483fa764254a2013aa7258b1">&#9670;&#160;</a></span>process_index_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t process_index_file </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>fptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structindex__file.html">index_file</a> *</td>          <td class="paramname"><span class="paramname"><em>idxf</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads data from a given file, creating <code><a class="el" href="structindex__entry.html" title="A file entry in an index_file.">index_entry</a></code>s for every entry in said file. </p>
<p>Every entry is 0x94 bytes apart, the part we're most concerned about is the last 16 bytes. Currently treating unknown data in between as junk. If you have any idea what this data might be used for, please feel free to make changes.</p>

<p class="definition">Definition at line <a class="el" href="index__file_8c_source.html#l00057">57</a> of file <a class="el" href="index__file_8c_source.html">index_file.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="index__file_8h.html">index_file.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
