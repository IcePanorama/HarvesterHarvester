<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_volume__descriptor_8h_source" xml:lang="en-US">
<title>volume_descriptor.h</title>
<indexterm><primary>src/volume_descriptor.h</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="_volume__descriptor_8h_source_1l00001"/>00001 <emphasis role="preprocessor">#ifndef&#32;_VOLUME_DESCRIPTOR_H_</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00002"/>00002 <emphasis role="preprocessor">#define&#32;_VOLUME_DESCRIPTOR_H_</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00003"/>00003 
<anchor xml:id="_volume__descriptor_8h_source_1l00004"/>00004 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="_datetime_8h">datetime.h</link>&quot;</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00005"/>00005 
<anchor xml:id="_volume__descriptor_8h_source_1l00006"/>00006 <emphasis role="preprocessor">#include&#32;&lt;stdint.h&gt;</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00007"/>00007 <emphasis role="preprocessor">#include&#32;&lt;stdio.h&gt;</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00008"/>00008 <emphasis role="preprocessor">#include&#32;&lt;string.h&gt;</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00009"/>00009 
<anchor xml:id="_volume__descriptor_8h_source_1l00010"/><link linkend="_volume__descriptor_8h_1a8d48399aa2b2f77c0f395a39c2a82ef8">00010</link> <emphasis role="preprocessor">#define&#32;SYSTEM_IDENTIFIER_LEN&#32;33</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00011"/><link linkend="_volume__descriptor_8h_1a2ee43c4111a809b1668f9a5e6441f923">00011</link> <emphasis role="preprocessor">#define&#32;VOLUME_IDENTIFIER_LEN&#32;33</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00012"/><link linkend="_volume__descriptor_8h_1a7a3cbe9af9a2561147611b5b58383b9a">00012</link> <emphasis role="preprocessor">#define&#32;ROOT_DIRECTORY_ENTRY_LEN&#32;34</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00013"/><link linkend="_volume__descriptor_8h_1a21844d31481be3e282c586beb1af42b5">00013</link> <emphasis role="preprocessor">#define&#32;VOLUME_SET_IDENTIFIER_LEN&#32;129</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00014"/><link linkend="_volume__descriptor_8h_1af84a95162e814cc57a4bb0eb3a94aed2">00014</link> <emphasis role="preprocessor">#define&#32;PUBLISHER_IDENTIFIER_LEN&#32;129</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00015"/><link linkend="_volume__descriptor_8h_1a4611162362c6479337c5092cba68e630">00015</link> <emphasis role="preprocessor">#define&#32;DATA_PREPARER_IDENTIFIER_LEN&#32;129</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00016"/><link linkend="_volume__descriptor_8h_1ac6cb4e8045e278793e9662627423aa09">00016</link> <emphasis role="preprocessor">#define&#32;APPLICATION_IDENTIFIER_LEN&#32;129</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00017"/><link linkend="_volume__descriptor_8h_1a6e1898726ea2bf0bc932ad3c3d8fd8d6">00017</link> <emphasis role="preprocessor">#define&#32;COPYRIGHT_FILE_IDENTIFIER_LEN&#32;38</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00018"/><link linkend="_volume__descriptor_8h_1ab6ba919808a912338d8e0abeb022b78c">00018</link> <emphasis role="preprocessor">#define&#32;ABSTRACT_FILE_IDENTIFIER_LEN&#32;38</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00019"/><link linkend="_volume__descriptor_8h_1afcc3b336c283fd14202e7ed2003035df">00019</link> <emphasis role="preprocessor">#define&#32;BIBLIOGRAPHIC_FILE_IDENTIFIER_LEN&#32;38</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00020"/><link linkend="_volume__descriptor_8h_1ae86e9446608da83762f62147c372c700">00020</link> <emphasis role="preprocessor">#define&#32;DAT_FILE_CREATION_SOFTWARE_IDENTIFIER_LEN&#32;9</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00021"/><link linkend="_volume__descriptor_8h_1ad1b2c8a9e3551bb5aa364f0633996efa">00021</link> <emphasis role="preprocessor">#define&#32;DAT_FILE_CREATION_SOFTWARE_VERSION_NUMBER_LEN&#32;11</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00022"/>00022 
<anchor xml:id="_volume__descriptor_8h_source_1l00023"/>00023 <emphasis role="comment">//&#32;See:&#32;https://wiki.osdev.org/ISO_9660#The_Primary_Volume_Descriptor</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00024"/><link linkend="_structvolume__descriptor__data">00024</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_structvolume__descriptor__data">volume_descriptor_data</link>
<anchor xml:id="_volume__descriptor_8h_source_1l00025"/>00025 {
<anchor xml:id="_volume__descriptor_8h_source_1l00026"/><link linkend="_structvolume__descriptor__data_1acf71b21b2b8ba0e43ef037f18f46c101">00026</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1acf71b21b2b8ba0e43ef037f18f46c101">system_identifier</link>[<link linkend="_volume__descriptor_8h_1a8d48399aa2b2f77c0f395a39c2a82ef8">SYSTEM_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00027"/><link linkend="_structvolume__descriptor__data_1a54d17b2adb72e2b61024203660f98df5">00027</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1a54d17b2adb72e2b61024203660f98df5">volume_identifier</link>[<link linkend="_volume__descriptor_8h_1a2ee43c4111a809b1668f9a5e6441f923">VOLUME_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00028"/><link linkend="_structvolume__descriptor__data_1ace920aa6dd8ced418a6fd1b7688deacf">00028</link> &#32;&#32;uint32_t&#32;<link linkend="_structvolume__descriptor__data_1ace920aa6dd8ced418a6fd1b7688deacf">volume_space_size</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00029"/><link linkend="_structvolume__descriptor__data_1a5e961b2bbb4f80a2de3c5fc2138ac393">00029</link> &#32;&#32;uint16_t&#32;<link linkend="_structvolume__descriptor__data_1a5e961b2bbb4f80a2de3c5fc2138ac393">volume_set_size</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00030"/><link linkend="_structvolume__descriptor__data_1adea21a0e215cfc39ed3bbd1e31b53d27">00030</link> &#32;&#32;uint16_t&#32;<link linkend="_structvolume__descriptor__data_1adea21a0e215cfc39ed3bbd1e31b53d27">volume_sequence_number</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00031"/><link linkend="_structvolume__descriptor__data_1af21ca763088cfcfcbb5064619cacd96b">00031</link> &#32;&#32;uint16_t&#32;<link linkend="_structvolume__descriptor__data_1af21ca763088cfcfcbb5064619cacd96b">logical_block_size</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00032"/><link linkend="_structvolume__descriptor__data_1a66accb73084de817dc58d3976c577bec">00032</link> &#32;&#32;uint32_t&#32;<link linkend="_structvolume__descriptor__data_1a66accb73084de817dc58d3976c577bec">path_table_size</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00033"/><link linkend="_structvolume__descriptor__data_1ad9941118893e9ca2a44e11d2d3a54402">00033</link> &#32;&#32;uint32_t&#32;<link linkend="_structvolume__descriptor__data_1ad9941118893e9ca2a44e11d2d3a54402">type_l_path_table_location</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00034"/><link linkend="_structvolume__descriptor__data_1ab0ca79c2798395e96af016b78163d5b4">00034</link> &#32;&#32;uint32_t&#32;<link linkend="_structvolume__descriptor__data_1ab0ca79c2798395e96af016b78163d5b4">optional_type_l_path_table_location</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00035"/><link linkend="_structvolume__descriptor__data_1ad48973c42afe1984b0c0256b2d42f612">00035</link> &#32;&#32;uint32_t&#32;<link linkend="_structvolume__descriptor__data_1ad48973c42afe1984b0c0256b2d42f612">type_m_path_table_location</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00036"/><link linkend="_structvolume__descriptor__data_1a83cd9ed9c15cb09e0ba2d580c0a8131e">00036</link> &#32;&#32;uint32_t&#32;<link linkend="_structvolume__descriptor__data_1a83cd9ed9c15cb09e0ba2d580c0a8131e">optional_type_m_path_table_location</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00037"/><link linkend="_structvolume__descriptor__data_1a232500ac96ac4e7f6deeb3be16602bbb">00037</link> &#32;&#32;uint8_t&#32;<link linkend="_structvolume__descriptor__data_1a232500ac96ac4e7f6deeb3be16602bbb">root_directory_entry</link>[<link linkend="_volume__descriptor_8h_1a7a3cbe9af9a2561147611b5b58383b9a">ROOT_DIRECTORY_ENTRY_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00038"/><link linkend="_structvolume__descriptor__data_1ae6403ffa64495130a3a3590c1bcd414f">00038</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1ae6403ffa64495130a3a3590c1bcd414f">volume_set_identifier</link>[<link linkend="_volume__descriptor_8h_1a21844d31481be3e282c586beb1af42b5">VOLUME_SET_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00039"/><link linkend="_structvolume__descriptor__data_1a3f02f300fe57f058957c9b9274c1eaeb">00039</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1a3f02f300fe57f058957c9b9274c1eaeb">publisher_identifier</link>[<link linkend="_volume__descriptor_8h_1af84a95162e814cc57a4bb0eb3a94aed2">PUBLISHER_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00040"/><link linkend="_structvolume__descriptor__data_1ae01fbfb3d817018c5da2095be906d6fd">00040</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1ae01fbfb3d817018c5da2095be906d6fd">data_preparer_identifier</link>[<link linkend="_volume__descriptor_8h_1a4611162362c6479337c5092cba68e630">DATA_PREPARER_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00041"/><link linkend="_structvolume__descriptor__data_1afb102f20e0aedc4ed02557f3e643b5fb">00041</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1afb102f20e0aedc4ed02557f3e643b5fb">application_identifier</link>[<link linkend="_volume__descriptor_8h_1ac6cb4e8045e278793e9662627423aa09">APPLICATION_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00042"/><link linkend="_structvolume__descriptor__data_1a4e9fdd5d2350af4e9cb0c99d3ebc040b">00042</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1a4e9fdd5d2350af4e9cb0c99d3ebc040b">copyright_file_identifier</link>[<link linkend="_volume__descriptor_8h_1a6e1898726ea2bf0bc932ad3c3d8fd8d6">COPYRIGHT_FILE_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00043"/><link linkend="_structvolume__descriptor__data_1a3635f902ec4dae79751af180c2034055">00043</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1a3635f902ec4dae79751af180c2034055">abstract_file_identifier</link>[<link linkend="_volume__descriptor_8h_1ab6ba919808a912338d8e0abeb022b78c">ABSTRACT_FILE_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00044"/><link linkend="_structvolume__descriptor__data_1a1cdb695762c1f712e8bef804c1ece6c2">00044</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1a1cdb695762c1f712e8bef804c1ece6c2">bibliographic_file_identifier</link>[<link linkend="_volume__descriptor_8h_1afcc3b336c283fd14202e7ed2003035df">BIBLIOGRAPHIC_FILE_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00045"/><link linkend="_structvolume__descriptor__data_1ab1dd3312c42dd8918b72aa691ed23822">00045</link> &#32;&#32;<link linkend="_structdec__datetime">dec_datetime</link>&#32;<link linkend="_structvolume__descriptor__data_1ab1dd3312c42dd8918b72aa691ed23822">volume_creation_date_and_time</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00046"/><link linkend="_structvolume__descriptor__data_1ae5f0ab30d5b8b6008cd986c659d9ea12">00046</link> &#32;&#32;<link linkend="_structdec__datetime">dec_datetime</link>&#32;<link linkend="_structvolume__descriptor__data_1ae5f0ab30d5b8b6008cd986c659d9ea12">volume_modification_date_and_time</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00047"/><link linkend="_structvolume__descriptor__data_1af45e67730feb60ef57e6265ea969b804">00047</link> &#32;&#32;<link linkend="_structdec__datetime">dec_datetime</link>&#32;<link linkend="_structvolume__descriptor__data_1af45e67730feb60ef57e6265ea969b804">volume_expiration_date_and_time</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00048"/><link linkend="_structvolume__descriptor__data_1ab761dec574bb30fe80be1be4c09fc7d7">00048</link> &#32;&#32;<link linkend="_structdec__datetime">dec_datetime</link>&#32;<link linkend="_structvolume__descriptor__data_1ab761dec574bb30fe80be1be4c09fc7d7">volume_effective_date_and_time</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00049"/><link linkend="_structvolume__descriptor__data_1ab2ba725deb625163a21e8a99820e9060">00049</link> &#32;&#32;uint8_t&#32;<link linkend="_structvolume__descriptor__data_1ab2ba725deb625163a21e8a99820e9060">file_structure_version</link>;&#32;<emphasis role="comment">//&#32;always&#32;`0x01`</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00050"/><link linkend="_structvolume__descriptor__data_1ab8f436d7d3d513740fec783e7d81f3b9">00050</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1ab8f436d7d3d513740fec783e7d81f3b9">DAT_file_creation_software_identifier</link>
<anchor xml:id="_volume__descriptor_8h_source_1l00051"/>00051 &#32;&#32;&#32;&#32;&#32;&#32;[<link linkend="_volume__descriptor_8h_1ae86e9446608da83762f62147c372c700">DAT_FILE_CREATION_SOFTWARE_IDENTIFIER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00052"/><link linkend="_structvolume__descriptor__data_1a54845bc356393560cb3a89bd0a08b9a6">00052</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor__data_1a54845bc356393560cb3a89bd0a08b9a6">DAT_file_creation_software_version_number</link>
<anchor xml:id="_volume__descriptor_8h_source_1l00053"/>00053 &#32;&#32;&#32;&#32;&#32;&#32;[<link linkend="_volume__descriptor_8h_1ad1b2c8a9e3551bb5aa364f0633996efa">DAT_FILE_CREATION_SOFTWARE_VERSION_NUMBER_LEN</link>];
<anchor xml:id="_volume__descriptor_8h_source_1l00054"/>00054 }&#32;<link linkend="_structvolume__descriptor__data">volume_descriptor_data</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00055"/>00055 
<anchor xml:id="_volume__descriptor_8h_source_1l00056"/>00056 <emphasis role="comment">//&#32;See:&#32;https://wiki.osdev.org/ISO_9660#Volume_Descriptors</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00057"/><link linkend="_structvolume__descriptor">00057</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_structvolume__descriptor">volume_descriptor</link>
<anchor xml:id="_volume__descriptor_8h_source_1l00058"/>00058 {
<anchor xml:id="_volume__descriptor_8h_source_1l00059"/><link linkend="_structvolume__descriptor_1a2aca920f790e33bcdbe52d06577aa77e">00059</link> &#32;&#32;uint8_t&#32;<link linkend="_structvolume__descriptor_1a2aca920f790e33bcdbe52d06577aa77e">type_code</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00060"/><link linkend="_structvolume__descriptor_1a3fe7f93b350973ce3bee72827ec0c27e">00060</link> &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structvolume__descriptor_1a3fe7f93b350973ce3bee72827ec0c27e">identifier</link>[6];&#32;<emphasis role="comment">//&#32;always&#32;`CD001`</emphasis>
<anchor xml:id="_volume__descriptor_8h_source_1l00061"/><link linkend="_structvolume__descriptor_1a42ab8e72b6579782600e39b58ee53f26">00061</link> &#32;&#32;uint8_t&#32;<link linkend="_structvolume__descriptor_1a42ab8e72b6579782600e39b58ee53f26">version</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00062"/><link linkend="_structvolume__descriptor_1aa4662741d6354f25862a6e1c1f2bc34a">00062</link> &#32;&#32;<link linkend="_structvolume__descriptor__data">volume_descriptor_data</link>&#32;<link linkend="_structvolume__descriptor_1aa4662741d6354f25862a6e1c1f2bc34a">data</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00063"/>00063 }&#32;<link linkend="_structvolume__descriptor">volume_descriptor</link>;
<anchor xml:id="_volume__descriptor_8h_source_1l00064"/>00064 
<anchor xml:id="_volume__descriptor_8h_source_1l00065"/>00065 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_volume__descriptor_8h_1a927dff4d543f323e86784b784602c3f4">create_volume_descriptor</link>&#32;(<link linkend="_structvolume__descriptor">volume_descriptor</link>&#32;*vd,&#32;uint8_t&#32;type,
<anchor xml:id="_volume__descriptor_8h_source_1l00066"/>00066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint8_t&#32;version);
<anchor xml:id="_volume__descriptor_8h_source_1l00067"/>00067 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_volume__descriptor_8h_1ac83303eab8ff516e07c13652ff4adece">print_volume_descriptor_header</link>&#32;(<link linkend="_structvolume__descriptor">volume_descriptor</link>&#32;*vd);
<anchor xml:id="_volume__descriptor_8h_source_1l00068"/>00068 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_volume__descriptor_8h_1ae25c2f5ac41962af3d8db01bdacbb65d">print_volume_descriptor_data</link>&#32;(<link linkend="_structvolume__descriptor__data">volume_descriptor_data</link>&#32;*vdd);
<anchor xml:id="_volume__descriptor_8h_source_1l00069"/>00069 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_volume__descriptor_8h_1ac90e9d56a0be0db4fa1e60d2a7a089ee">process_volume_descriptor_header</link>&#32;(FILE&#32;*fptr,&#32;<link linkend="_structvolume__descriptor">volume_descriptor</link>&#32;*vd);
<anchor xml:id="_volume__descriptor_8h_source_1l00070"/>00070 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_volume__descriptor_8h_1aebf907c2282343b4b0d2c0ffed6a182a">process_volume_descriptor_data</link>&#32;(FILE&#32;*fptr,&#32;<link linkend="_structvolume__descriptor__data">volume_descriptor_data</link>&#32;*vdd);
<anchor xml:id="_volume__descriptor_8h_source_1l00071"/>00071 
<anchor xml:id="_volume__descriptor_8h_source_1l00072"/>00072 <emphasis role="preprocessor">#endif</emphasis>
</programlisting></section>
